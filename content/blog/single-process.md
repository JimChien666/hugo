---
title: "單體式系統介紹"
date: 2023-01-14T10:07:47+06:00
draft: false


# meta description
description: "單體式系統介紹"


# post type
type: "featured"
---


<hr>

# 單體式系統

微服務常常被描述成是單體式架構的替代方案，因此在了解微服務的架構之前，我們應該要先了解單體式系統(monolith)是什麼東西。

首先，要先了解什麼是`單體`，單體可以把它理解為是一個部署單位。

![image](../../images/post/single-process-1.png)

也就是說系統中的功能需要同時被部署，那他就可以視為一個`單體`。那在單體式的架構中，我們可以把他分成幾種類型:
- 單行程單體
- 模組化單體
- 分散式單體

## 單體式的種類

### 單行程單體

當談到單體式應用時，最常見的一種類型就是單行程單體，這種類型的架構，此種架構下，從資料庫取資料，到畫面呈現，很有可能都被包在同一個 Controller 中，遵從傳統的 MVC 架構。

![image](../../images/post/single-process-2.png)

此種架構之下對於較小的組織及應用程式是一個不錯的選擇，但隨著應用程式的成長，我們可能需要將它模組化。

### 模組化單體

模組化單體是單行程單體的一種變化，在此應用程式下，我們將不同的功能拆分為不同的模組，各個模組相互獨立，但仍須一同部署。

![image](../../images/post/single-process-3.png)

對於許多團隊來說，模組化單體是一個不錯的選擇，只要各個模組邊界定義明確，在團隊上的分工會有很好的幫助。

不過，轉變為模組化單體後，可能會面臨一項挑戰，就是各個模組間，會有共用資料庫的情況，在這個情況之下，未來想將這一整個單體拆分為不同單體時，可能會帶來許多困難，因此在區分模組的同時，也可以將不同模組間應用到的資料庫區分開來。

![image](../../images/post/single-process-4.png)

當產品不斷成長，單體越漲越大，相對團隊的規模也越來越大，在此情況下，我們可能會像區分不同團隊來管理不同的單體，以網路書店來說，我們可能會想將團隊分成網頁版團隊及 APP 版團隊，他們各自維護不同的單體。

這時會面臨一個問題，這些單體也許服務的內容非常相似，這時我們可能需要使用一套方法或著是使用一種架構，來解決目前遇到的問題。

### 服務導向架構(SOA)

服務導向架構他是一種設計方法，我們提供一個服務，這個服務是一個完全獨立於任何單體的獨自個體，這個服務提供單體應用程式他們所需要的方法，而當單體需要使用服務中的方法時，需要透過網路進行呼叫，當然，這個服務不僅限於一個單體使用。

![image](../../images/post/single-process-5.png)

SOA 固然是個很好的方法，但很有可能在實作的過程中，出現了一些問題，導致我們的應用程式變成了我們不想看到的樣子，分散式單體。

### 分散式單體

分散式單體可能有著 SOA 的樣子，看似是有多個服務組成的系統，實質上整個系統必須同時部署，導致他成為一個單體。

![image](../../images/post/single-process-6.png)

## 單體式的優缺點

單體式系統有許多優點，例如易於部署在分散式系統之中​，易於共用程式碼​，易於監控，故障排除​等等。
當然也有一些缺點，例如競爭交付​，若無明確模組邊界，容易造成程式閱讀困難​，等等。
